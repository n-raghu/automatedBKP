
DROP TABLE framework.api_mappers;
CREATE TABLE IF NOT EXISTS framework.api_mappers(
active BOOL,
app TEXT,
point_name TEXT,
endpoint TEXT,
point_col TEXT,
api_keycol TEXT,
dtype_collection TEXT,
collection TEXT
);

INSERT INTO framework.api_mappers(active,app,point_name,endpoint,point_col,dtype_collection,collection,api_keycol)
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','AccountId','text','salesforce_accounts','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','accountname','text','salesforce_accounts','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','AccountExpiryDate','date','salesforce_accounts','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','accountcreatedDate','date','salesforce_accounts','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','typeOfPartner','text','salesforce_accounts','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','Opportunityid','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','lineitems.productname','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','lineitems.productcode','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','lineitems.productid','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','Industry','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','lineitems.LineItemId','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','TypeofSale','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','ThirdPartyLMS','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','TechnicalContact','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','Stage','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','ReasonWonLost','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','LicenseEndDate','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','LicenseStartDate','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','FarmInstanceCode','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','DeployedViaPotter','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','DeployedOnILMS','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','DataCenter','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','Country','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','CloseDate','text','salesforce_opportunities','opportunityid'
UNION ALL
SELECT true,'salesforce','OpportunityTracker','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','City','text','salesforce_opportunities','opportunityid'


INSERT INTO framework.api_mappers(active,app,point_name,endpoint,point_col,dtype_collection,collection,api_keycol)
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.id','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.IsDeleted','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.MasterRecordId','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.name','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.ParentId','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.Type','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.Industry','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.AnnualRevenue','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.NumberOfEmployees','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.CreatedDate','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.LastModifiedDate','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.SystemModstamp','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.iLMS_Customer__c','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.Active__c','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.Status__c','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.Account_ARR__c','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.iLMS_Type__c','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.iLMS_Customer__c','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.Account_MRR__c','text','salesforce_accounts','id'
UNION ALL
SELECT true,'salesforce','AccountData','https://cs70.salesforce.com/services/apexrest/getClosedWonOpportunities','records.X3rd_Party_LMS__c','text','salesforce_accounts','id'
